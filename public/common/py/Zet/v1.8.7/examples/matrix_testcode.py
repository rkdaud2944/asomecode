import internet
import udp_socket
import button

internet.open_ap("test_mja")

s = udp_socket.create()
bt = button.create(4)

turnoff_pins()

s.open(1929)

import max7219  

aclk = 8  
acs = 7  
adin = 6  

aclk2 = 3
acs2 = 2
adin2 = 1

image = [[0b00000000,   # 이진수로 LED를 표현
          0b00000000,
          0b00000000,
          0b00000000,
          0b00000000,
          0b00000000,
          0b00000000,
          0b00000000],

         [0b00000000,   # NONE
          0b00000000,
          0b00000000,
          0b00000000,
          0b00000000,
          0b00000000,
          0b00000000,
          0b00000000],

		 [0b00000000,   # IN
          0b10010010,
          0b10011010,
          0b10010110,
          0b10010010,
          0b10010010,
          0b00000000,
          0b00000000],
          
         [0b00000000,   # CH
          0b01101001,
          0b10001001,
          0b10001111,
          0b10001001,
          0b01101001,
          0b00000000,
          0b00000000],       
          
         [0b00000000,   # EO
          0b01110011,
          0b01000100,
          0b01110100,
          0b01000100,
          0b01110011,
          0b00000000,
          0b00000000],             

         [0b00000000,   # ON
          0b00100100,
          0b10110100,
          0b10101100,
          0b10100100,
          0b00100100,
          0b00000000,
          0b00000000]]       

image1 = [[0b00000000,   # 이진수로 LED를 표현
          0b00000000,
          0b00000000,
          0b00000000,
          0b00000000,
          0b00000000,
          0b00000000,
          0b00000000],

         [0b00000000,   # NONE
          0b00000000,
          0b00000000,
          0b00000000,
          0b00000000,
          0b00000000,
          0b00000000,
          0b00000000],

		 [0b00000000,   # AI
          0b00011001,
          0b00100101,
          0b00111101,
          0b00100101,
          0b00100101,
          0b00000000,
          0b00000000],		  

         [0b00000000,   # RP
          0b01110011,
          0b01001010,
          0b01110011,
          0b01010010,
          0b01001010,
          0b00000000,
          0b00000000],
		  
         [0b00000000,   # PO
          0b10001100,
          0b01010010,
          0b10010010,
          0b00010010,
          0b00001100,
          0b00000000,
          0b00000000],				     

         [0b00000000,   # RT
          0b11100111,
          0b10010010,
          0b11100010,
          0b10100010,
          0b10010010,
          0b00000000,
          0b00000000]]
		  

max7219a = max7219.open(aclk, acs, adin)  
max7219b = max7219.open(aclk2, acs2, adin2)  

while True: 

	msg = s.read_text()
	
#	if msg == "BON":
	
#    	for i in range(0, len(image)):  
#        	max7219.draw(image[i])  
#        	delay(1) 
		
#	if bt.value() == 0:
#		s.send_text("192.168.4.2", 1929, "BON")

    for i in range(0, len(image)):  
        max7219a.draw(image[i])  
        delay(1) 		 
        max7219b.draw(image1[i])  
        delay(1)  
